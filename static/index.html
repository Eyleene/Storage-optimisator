<!DOCTYPE HTML PUBLIC>
<html lang="uk">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>АКІТР25бз Demo: Автоматизація складу</title>
  <link rel="icon" href="/static/favicon3.svg" type="image/x-icon">
  <link rel="stylesheet" href="../static/styles.css">
  <!-- Add icon library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div class="container">
    <div class="theme-switch">
      Темна тема
      <label class="switch" for="theme-toggle">
        <input type="checkbox" id="theme-toggle">
        <span class="slider round"></span>
      </label>
    </div>

    <div class="container">
      <h1>АКІТР25бз Demo: Автоматизація складу</h1>
      <div class="grid">
        <div class="card">
          <h2>Товари</h2> 
          <form id="product-form">
            <input name="sku" placeholder="SKU" required>
            <input name="name" placeholder="Назва" required>
            <input name="unit" placeholder="Од." value="шт">
            <button type="submit">Додати товар</button>
          </form>
          <div id="products"></div>

          <form id="product-edit-form" style="display:none;margin-top:8px;padding:8px;border:1px solid #ddd">
            <input type="hidden" name="id">
            <div><label>SKU <input name="sku"></label></div>
            <div><label>Назва <input name="name"></label></div>
            <div><label>Од. <input name="unit"></label></div>
            <button type="submit">Зберегти</button>
            <button type="button"
              onclick="document.getElementById('product-edit-form').style.display='none'">Скасувати</button>
          </form>
        </div>

        <div class="card">
          <h2>Зберігання</h2>
          <form id="location-form">
            <input name="code" placeholder="Код (A1)" required>
            <input name="desc" placeholder="Опис">
            <button type="submit">Додати локацію</button>
          </form>
          <div id="locations"></div>

          <form id="location-edit-form" style="display:none;margin-top:8px;padding:8px;border:1px solid #ddd">
            <input type="hidden" name="id">
            <div><label>Код <input name="code"></label></div>
            <div><label>Опис <input name="description"></label></div>
            <button type="submit">Зберегти</button>
            <button type="button"
              onclick="document.getElementById('location-edit-form').style.display='none'">Скасувати</button>
          </form>
        </div>

        <div class="card">
          <h2>Приймання</h2>
          <form id="receive-form">
            <input name="sku" placeholder="SKU" required>
            <input name="location" placeholder="Локація (A1)" required>
            <input name="qty" type="number" placeholder="Кількість" required min="1" value="1">
            <input name="batch" placeholder="Партія (опц.)">
            <button type="submit">Прийняти</button>
          </form>
        </div>

        <div class="card">
          <h2>Видача</h2>
          <form id="pick-form">
            <input name="sku" placeholder="SKU" required>
            <input name="location" placeholder="Локація (опц.)">
            <input name="qty" type="number" placeholder="Кількість" required min="1" value="1">
            <input name="batch" placeholder="Партія (опц.)">
            <button type="submit">Віддати</button>
          </form>
        </div>
      </div>

      <div class="card wide">
        <h2>Залишки на складі</h2>
        <button class="small-btn" id="refresh-stock"><svg viewBox="0 0 640 640" width="20" height="20""><path d="M129.9 292.5C143.2 199.5 223.3 128 320 128C373 128 421 149.5 455.8 184.2C456 184.4 456.2 184.6 456.4 184.8L464 192L416.1 192C398.4 192 384.1 206.3 384.1 224C384.1 241.7 398.4 256 416.1 256L544.1 256C561.8 256 576.1 241.7 576.1 224L576.1 96C576.1 78.3 561.8 64 544.1 64C526.4 64 512.1 78.3 512.1 96L512.1 149.4L500.8 138.7C454.5 92.6 390.5 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6zM573.4 356.5C575.9 339 563.7 322.8 546.3 320.3C528.9 317.8 512.6 330 510.1 347.4C496.8 440.4 416.7 511.9 320 511.9C267 511.9 219 490.4 184.2 455.7C184 455.5 183.8 455.3 183.6 455.1L176 447.9L223.9 447.9C241.6 447.9 255.9 433.6 255.9 415.9C255.9 398.2 241.6 383.9 223.9 383.9L96 384C87.5 384 79.3 387.4 73.3 393.5C67.3 399.6 63.9 407.7 64 416.3L65 543.3C65.1 561 79.6 575.2 97.3 575C115 574.8 129.2 560.4 129 542.7L128.6 491.2L139.3 501.3C185.6 547.4 249.5 576 320 576C449 576 555.7 480.6 573.4 356.5z"/></svg></button>
        <table id="stock-table">
          <thead>
            <tr>
              <th>SKU</th>
              <th>Назва</th>
              <th>Локація</th>
              <th>Партія</th>
              <th>Кількість</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="card wide">
        <h2>Транзакції</h2>
        <button class="small-btn" id="refresh-trans"><svg viewBox="0 0 640 640" width="20" height="20""><path d="M129.9 292.5C143.2 199.5 223.3 128 320 128C373 128 421 149.5 455.8 184.2C456 184.4 456.2 184.6 456.4 184.8L464 192L416.1 192C398.4 192 384.1 206.3 384.1 224C384.1 241.7 398.4 256 416.1 256L544.1 256C561.8 256 576.1 241.7 576.1 224L576.1 96C576.1 78.3 561.8 64 544.1 64C526.4 64 512.1 78.3 512.1 96L512.1 149.4L500.8 138.7C454.5 92.6 390.5 64 320 64C191 64 84.3 159.4 66.6 283.5C64.1 301 76.2 317.2 93.7 319.7C111.2 322.2 127.4 310 129.9 292.6zM573.4 356.5C575.9 339 563.7 322.8 546.3 320.3C528.9 317.8 512.6 330 510.1 347.4C496.8 440.4 416.7 511.9 320 511.9C267 511.9 219 490.4 184.2 455.7C184 455.5 183.8 455.3 183.6 455.1L176 447.9L223.9 447.9C241.6 447.9 255.9 433.6 255.9 415.9C255.9 398.2 241.6 383.9 223.9 383.9L96 384C87.5 384 79.3 387.4 73.3 393.5C67.3 399.6 63.9 407.7 64 416.3L65 543.3C65.1 561 79.6 575.2 97.3 575C115 574.8 129.2 560.4 129 542.7L128.6 491.2L139.3 501.3C185.6 547.4 249.5 576 320 576C449 576 555.7 480.6 573.4 356.5z"/></svg></button>
        <div id="transactions"></div>
      </div>
    </div>
  </div>

  <script>
    const toggle = document.getElementById('theme-toggle');
    const body = document.body;

    if (localStorage.getItem('darkTheme') === 'true') {
      body.classList.add('dark');
      toggle.checked = true;
    }

    toggle.addEventListener('change', () => {
      body.classList.toggle('dark');
      localStorage.setItem('darkTheme', body.classList.contains('dark'));
    });
  </script>
  <script src="../static/app.js"></script>
</body>

</html>